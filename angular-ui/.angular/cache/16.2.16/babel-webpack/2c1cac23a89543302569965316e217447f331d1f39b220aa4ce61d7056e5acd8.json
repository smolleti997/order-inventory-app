{"ast":null,"code":"import { Client } from '@stomp/stompjs';\nimport * as SockJS from 'sockjs-client';\nimport * as i0 from \"@angular/core\";\nexport let InventoryService = /*#__PURE__*/(() => {\n  class InventoryService {\n    client;\n    constructor() {\n      this.client = new Client();\n    }\n    listen(callback) {\n      this.client.webSocketFactory = () => new SockJS('http://localhost:8081/ws-stock');\n      this.client.onConnect = frame => {\n        this.client.subscribe('/topic/stock', msg => {\n          const body = JSON.parse(msg.body);\n          callback(body);\n        });\n      };\n      this.client.activate();\n    }\n    static ɵfac = function InventoryService_Factory(t) {\n      return new (t || InventoryService)();\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: InventoryService,\n      factory: InventoryService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return InventoryService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}